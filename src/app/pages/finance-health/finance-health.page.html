<ion-header *transloco="let t">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>

    <ion-title>{{ t("FINANCIAL-HEALTH.display") }}</ion-title>

    <ion-buttons slot="end">
      <ion-button (click)="openDateModal()">
        <ion-icon name="calendar-outline" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>

</ion-header>

<ion-content *transloco="let t">
  <div class="p flex">

    <app-progress-bar [infillPercentage]="healthyValue" [mode]="'Vertical'" [color]="healthyColor"></app-progress-bar>

    <div class="p">
      <div class="flex items-baseline">
        <h1 class="bold" [style.color]="'#' + healthyColor">{{ healthyValue | number : "1.0-0" }}/</h1>
        <h2>100</h2>
      </div>
      <h5 class="mt-s bold" [style.color]="'#' + healthyColor">{{ t(("FINANCIAL-HEALTH.review." + healthyReview)) }}</h5>
    </div>
  </div>

  <ion-list>
    <ion-item>

      <ion-icon [ngClass]="savingsPercentageReview === 'good' ? 'success' : savingsPercentageReview === 'normal' ? 'warning' : 'danger'"
        [name]="savingsPercentageReview === 'good' ? 'checkmark-outline' : savingsPercentageReview === 'normal' ? 'bulb-outline' : 'close-outline'"
        slot="start">
      </ion-icon>

      <ion-label>
        <p>{{ t(("FINANCIAL-HEALTH.savingsPercentage." + savingsPercentageReview), {value: savingsPercentage | number : "1.0-0"}) }}</p>
      </ion-label>
    </ion-item>

    <ion-item>

      <ion-icon
        [ngClass]="monthsReview === 'good' ? 'success' : (monthsReview === 'normal' || monthsReview === 'insufficient_data' ) ? 'warning' : 'danger'"
        [name]="monthsReview === 'good' ? 'checkmark-outline' : (monthsReview === 'normal' || monthsReview === 'insufficient_data' ) ? 'bulb-outline' : 'close-outline'"
        slot="start">
      </ion-icon>

      <ion-label>
        <p>{{ t(("FINANCIAL-HEALTH.monthsWithoutIncome." + monthsReview), {x: monthsWithoutIncome | number : "1.0-0"}) }}</p>
      </ion-label>
    </ion-item>
  </ion-list>

</ion-content>